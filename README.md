# Google Ads Placements Manager - Инструкция по установке и использованию

## Описание
Система для управления и анализа данных о выключенных плейсментах в Google Ads. Позволяет отслеживать работу скриптов, которые автоматически исключают плейсменты по различным правилам.

## Требования к системе
- PHP 7.4 или выше
- Расширение PHP SQLite3
- Веб-сервер (Apache, Nginx или встроенный сервер PHP)

## Установка

### 1. Загрузка файлов
Распакуйте архив с проектом в директорию веб-сервера или любую удобную папку.

### 2. Установка зависимостей
На Ubuntu/Debian:
```bash
sudo apt update
sudo apt install php php-sqlite3 php-cli sqlite3
```

На CentOS/RHEL:
```bash
sudo yum install php php-pdo sqlite
```

### 3. Инициализация базы данных
Перейдите в директорию проекта и выполните:
```bash
sqlite3 placements.db < database.sql
```

### 4. Настройка прав доступа
```bash
chmod 664 placements.db
chmod 755 .
```

### 5. Запуск
Для тестирования можно использовать встроенный сервер PHP:
```bash
php -S localhost:8000
```

Затем откройте браузер и перейдите по адресу: http://localhost:8000

## Использование

### Первоначальная настройка

1. **Добавление аккаунтов Google Ads**
   - Перейдите в раздел "Управление аккаунтами"
   - Нажмите "Добавить аккаунт"
   - Укажите название аккаунта и временную зону
   - Нажмите "Добавить аккаунт"

2. **Добавление скриптов**
   - Перейдите в раздел "Управление скриптами"
   - Нажмите "Добавить скрипт"
   - Укажите название скрипта и описание его правил работы
   - Нажмите "Добавить скрипт"

### Добавление данных о плейсментах

1. Перейдите в раздел "Добавить данные о плейсментах"
2. Выберите аккаунт Google Ads из списка
3. Выберите скрипт, который выполнил исключения
4. Вставьте время выполнения в формате:
   ```
   Started Jun 25, 2025 4:50:53 AM, ended Jun 25, 2025 4:51:04 AM
   ```
5. Вставьте данные о плейсментах в формате:
   ```
   Название кампании
   Placement excluded
   URL плейсмента
   Successful
   ```
   Повторите для каждого исключенного плейсмента.
6. Нажмите "Добавить данные"

### Просмотр и анализ данных

1. Перейдите в раздел "Просмотр данных"
2. Используйте фильтры для поиска:
   - По аккаунту
   - По скрипту
   - По диапазону дат
3. Просматривайте результаты в таблице
4. Кликните на строку для просмотра деталей исключения

## Структура проекта

```
google-ads-placements-manager/
├── index.php              # Главный файл приложения
├── database.sql           # SQL скрипт для создания БД
├── placements.db          # База данных SQLite (создается автоматически)
├── includes/
│   └── Database.php       # Класс для работы с БД
├── pages/
│   ├── home.php          # Главная страница
│   ├── accounts.php      # Управление аккаунтами
│   ├── scripts.php       # Управление скриптами
│   ├── add_placements.php # Добавление данных
│   └── view_placements.php # Просмотр данных
├── css/
│   └── main.css          # Основные стили
└── js/
    └── main.js           # JavaScript функции
```

## Безопасность

- Система предназначена для локального использования одним пользователем
- Не требует авторизации, так как используется только вами
- База данных SQLite хранится локально
- Рекомендуется регулярно создавать резервные копии файла `placements.db`

## Резервное копирование

Для создания резервной копии данных скопируйте файл `placements.db`:
```bash
cp placements.db backup_placements_$(date +%Y%m%d).db
```

## Устранение неполадок

### Ошибка "no such table"
Убедитесь, что база данных инициализирована:
```bash
sqlite3 placements.db < database.sql
```

### Ошибки PHP
Проверьте, что установлены все необходимые расширения:
```bash
php -m | grep -i sqlite
```

### Проблемы с правами доступа
Убедитесь, что веб-сервер имеет права на чтение/запись файла базы данных:
```bash
chmod 664 placements.db
chown www-data:www-data placements.db  # для Apache
```

## Поддержка

Система разработана как простое решение для персонального использования. При возникновении вопросов обратитесь к документации PHP и SQLite.

